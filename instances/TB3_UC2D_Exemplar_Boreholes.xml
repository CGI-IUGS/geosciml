<?xml version="1.0" encoding="utf-8"?>
<!-- TB3 Profile Note: UC2D and UC3D Exemplar instances are identical.  -->
<!-- BRGM profile for WFS delivering boreholes with lithology and age encoded as gml:ReferenceType values -->
<!-- General BRGM rules for encoding boreholes: (the same ones as TB3_UC3_BRGM_Boreholes_ReferenceToGeologicalUnits.xml)
		- Lithology values are encoded as gml:Reference values
		- Note that when the lithology is unknown, there is no xlink:href in the cv:value tag
		- There is no observation on points.
		- All the intervals are sorted by increasing values of depth
		- We assume that the borehole length, all the depth values and all the elevation values are expressed with the same unit
		- As there is more than one observation for the boreholes, we define a gml:id for the geometry of each interval in order to reuse it in the other observations. We don't want to duplicate the geometry of the intervals because it's the same one for all the observations
		- As the starting point is also defined in the collarLocation tag, we refer to it in the 3D line string definition of the borehole in order not to duplicate it
		- Coordinates are defined according to the epsg:7412 projection system, i.e elevation in meters for Z and French Lambert II projection system for X and Y. In this projection system, X, Y and Z are expressed in meters.
		- Rules to encode the gml:id
			bh. for borehole
			string got from the borehole name. Each character of the borehole name is transformed into 2 characters. Like that, we have no problems with the characters that are forbidden in gml:id values.
			.1,2,... for the interval numbers
			.Shape for the shape of the borehole
			and so on -->
<!-- General rules for encoding boreholes:
		- Property names are always by reference using the agreed URNs that GeoSciML group has settled on
			Property name for lithology is urn:cgi:propertyType:CGI:GeoSciML:2.0:CompositionPart:lithology
			Property name for age is urn:cgi:propertyType:CGI:GeoSciML:2.0:GeologicEvent:eventAge
		- In all boreholes, observations of lithology and age must be in the same order
		- Lithology encoded using CGI simple  lithology vocabulary.
		- The geometry of your borehole can be complex (deviated) in GeoSciML but different applications
		may have restrictions on the geometries they can deal with. In Testbed all boreholes are vertical
		and encoded as line strings.
		- Although the sa:length element is optional, we wish to report it for the testbed (to check our queries
		on length are working)
		- Cookbook note: The model does not enforce having logged intervals lie within stated length but if
		your data does not satisfy this constraint this may cause problems for consumers of your data.
		- Cookbook note: the Borehole/shape stores calculated geometry of your borehole. If you wish to
record the survey information for your borehole this will need to be a log in the relatedObservations. 
- Age references refer to the ICS dictionary in the testbed and in general it will improve interoperability if you use it. -->
<!-- Special rules for encoding BRGM boreholes with age encoded as gml:ReferenceType values
		- Lithology and age are observed on the same intervals -->
<wfs:FeatureCollection 

	xmlns:om="http://www.opengis.net/om/1.0"
	xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xmlns:sa="http://www.opengis.net/sampling/1.0"
	xmlns:gml="http://www.opengis.net/gml"
	xmlns:cv="http://www.opengis.net/cv/0.2.1"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:gsml="urn:cgi:xmlns:CGI:GeoSciML:2.0"
	xmlns:wfs="http://www.opengis.net/wfs"
	xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd
	http://www.opengis.net/cv/0.2.1 http://bp.schemas.opengis.net/06-188r1/cv/0.2.1/cv.xsd
	http://www.opengis.net/om/1.0 http://schemas.opengis.net/om/1.0.0/om.xsd
	http://www.opengis.net/sampling/1.0 http://schemas.opengis.net/sampling/1.0.0/sampling.xsd
	urn:cgi:xmlns:CGI:GeoSciML:2.0 http://www.geosciml.org/geosciml/2.0/xsd/geosciml.xsd">
	<!-- Cookbook note: The semantics of your bounding box (if you include one) depend on how you 
		want your data indexed.
	e.g. you can make a 2D bounding box to index by the 2D borehole locations, or a 3D bounding box
	to index the 3D extent of your boreholes. For a collection of boreholes the bounding box should include 
	the full extent (in 2D or 3D) of your boreholes. -->
	<gml:boundedBy>
		<gml:Envelope srsName="urn:ogc:def:crs:EPSG:6.15:7412">
			<gml:lowerCorner>631154.1 2622191.9 -112</gml:lowerCorner>
			<gml:upperCorner>631154.1 2622191.9 18</gml:upperCorner>
		</gml:Envelope>
	</gml:boundedBy>
	<!-- One borehole -->
    <gml:featureMember>
		<gsml:Borehole gml:id="bh.303031333558303031382F53">
			<!-- The BRGM name of the borehole -->
			<!-- TB3 Profile Note: The gml:description is not worth using unless there is some specific descriptive information available for the particular Borehole; 
				so don't use this to put a generic description like 'borehole' or similar. Don't use for other names either
			these should use gml:name with other codeSpace's or no codeSpace .-->
			<gml:description>00135X0018/S borehole</gml:description>
			<gml:name codeSpace="urn:ietf:rfc:2141">urn:cgi:feature:BRGM:Borehole:00135X0018/S</gml:name>
			<!-- The 3D envelope of the borehole expressed in the same projection system as the borehole one -->
			<!-- TB3 Profile Note: bounding box is not mandatory but should be provided if possible as this can be helpful for clients. -->
			<gml:boundedBy>
				<gml:Envelope srsName="#bh.303432383858303032312F53.BoreholeShape">
					<gml:lowerCorner>631154.1 2622191.9 -112</gml:lowerCorner>
					<gml:upperCorner>631154.1 2622191.9 18</gml:upperCorner>
				</gml:Envelope>
			</gml:boundedBy>
			<!-- TB3 Profile Note: sampledFeature is a mandatory property in O&M; some previous instances have left this
			element empty which validates but isn't really the purpose of the model. For boreholes returning properties of GeologicUnits
			implementors should attempt to list the GeologicUnit features which are sampled here if possible.-->
			<sa:sampledFeature xlink:href="urn:cgi:feature:BRGM:GeologicUnit:50K:F12"/>
			<sa:sampledFeature xlink:href="urn:cgi:feature:BRGM:GeologicUnit:50K:F21"/>
			<sa:sampledFeature xlink:href="urn:cgi:feature:BRGM:GeologicUnit:50K:F23"/>
			<sa:sampledFeature xlink:href="urn:cgi:feature:BRGM:GeologicUnit:50K:F24"/>
			<!-- Lithology encoded as gml:Reference -->
			<sa:relatedObservation>
				<om:Observation gml:id="bh.303031333558303031382F53.lithology.1">
					<gml:description>Lithology</gml:description>
					<!-- TB3 Profile Note: For mandatory properties the element should not just be left empty to get past
					XML Schema validation but should have the xlink:href property set to an OGC nil reason from page
					OgcURNScheme if no value can be given.-->
					<om:samplingTime  xlink:href="urn:ogc:def:nil:OGC:unknown"/>
					<om:procedure xlink:href="urn:cgi:classifier:CGI:ObservationMethod:Direct_observation"/>
					<om:observedProperty xlink:href="urn:cgi:propertyType:CGI:GeoSciML:2.0:CompositionPart:lithology"/>
					<!-- TB3 Profile Note: See https://www.seegrid.csiro.au/twiki/bin/view/AppSchemas/ObservationsAndSampling#Unknown_features 
					for notes on suitable values for featureOfInterest particularly when there isn't a specific known feature. -->
					<om:featureOfInterest xlink:role="urn:cgi:featureType:CGI:GeoSciML:2.0:GeologicUnit" xlink:href="urn:ogc:def:nil:OGC:unknown" />
					<!-- Cookbook note: We have only tested logs done on discrete intervals in the testbed although potentially others such
					as geophysical logs would be point value logs and other types may exist.
					For discrete coverages you may have different properties specified on the same intervals or different intervals. The former
					could in theory be encoded with tuple values on the intervals but we recommend you make separate coverage logs with
					scalar values and use internal href's if you wish to refer more than once to the same interval. -->
					<om:result>
						<cv:CV_DiscreteCoverage>
							<cv:domainExtent xlink:href="#bh.303031333558303031382F53.Shape"/>
							<!-- TB3 Profile Note: What's the difference between the rangeType here and the parent Observation observedProperty ?
							There should really be at least an xlink:href value put here rather than an empty element. 
							Answer: rangeType should specify encoding as well as meaning of range but for the moment
							how to specify this is for future discussion. Put xlink:href="urn:cgi:recordType:...tbd" -->
							<cv:rangeType/>
							<cv:element>
								<cv:CV_GeometryValuePair>
									<cv:geometry>
										<cv:CV_DomainObject>
											<cv:spatialElement>
												<!-- Cookbook note: the coordinate reference system is the borehole shape itself
												and coordinates are the distance along the borehole curve . The href points
												to the borehole shape property.
												The units of measurement are implicitly the same as those for the coordinate reference system
												the borehole shape is expressed in.-->
												<gml:LineString srsName="#bh.303031333558303031382F53.Shape" srsDimension="1" gml:id="bh.303031333558303031382F53.1">
													<gml:pos>0</gml:pos>
													<gml:pos>34</gml:pos>
												</gml:LineString>
											</cv:spatialElement>
										</cv:CV_DomainObject>
									</cv:geometry>
									<cv:value xsi:type="gml:ReferenceType" xlink:href="urn:cgi:classifier:CGI:SimpleLithology:2008:sandstone"/>
								</cv:CV_GeometryValuePair>
							</cv:element>
							<cv:element>
								<cv:CV_GeometryValuePair>
									<cv:geometry>
										<cv:CV_DomainObject>
											<cv:spatialElement>
												<gml:LineString srsName="#bh.303031333558303031382F53.Shape" srsDimension="1" gml:id="bh.303031333558303031382F53.2">
													<gml:pos>34</gml:pos>
													<gml:pos>100</gml:pos>
												</gml:LineString>
											</cv:spatialElement>
										</cv:CV_DomainObject>
									</cv:geometry>
									<cv:value xsi:type="gml:ReferenceType" xlink:href="urn:cgi:classifier:BRGM:Lithology:2008:S234"/>
								</cv:CV_GeometryValuePair>
							</cv:element>
							<cv:element>
								<cv:CV_GeometryValuePair>
									<cv:geometry>
										<cv:CV_DomainObject>
											<cv:spatialElement>
												<gml:LineString srsName="#bh.303031333558303031382F53.Shape" srsDimension="1" gml:id="bh.303031333558303031382F53.3">
													<gml:pos>100</gml:pos>
													<gml:pos>108</gml:pos>
												</gml:LineString>
											</cv:spatialElement>
										</cv:CV_DomainObject>
									</cv:geometry>
									<cv:value xsi:type="gml:ReferenceType"/>
								</cv:CV_GeometryValuePair>
							</cv:element>
							<cv:element>
								<cv:CV_GeometryValuePair>
									<cv:geometry>
										<cv:CV_DomainObject>
											<cv:spatialElement>
												<gml:LineString srsName="#bh.303031333558303031382F53.Shape" srsDimension="1" gml:id="bh.303031333558303031382F53.4">
													<gml:pos>108</gml:pos>
													<gml:pos>130</gml:pos>
												</gml:LineString>
											</cv:spatialElement>
										</cv:CV_DomainObject>
									</cv:geometry>
									<cv:value xsi:type="gml:ReferenceType" xlink:href="urn:cgi:classifier:BRGM:Lithology:2008:S234"/>
								</cv:CV_GeometryValuePair>
							</cv:element>
						</cv:CV_DiscreteCoverage>
					</om:result>
				</om:Observation>
			</sa:relatedObservation>
			<!-- Age encoded as gml:Reference -->
			<sa:relatedObservation>
				<!-- TB3 Profile Note: Age and other properties are optional to return if you wish; lithology is the only Observation that must be
				included. -->
				<om:Observation gml:id="bh.303031333558303031382F53.eventAge.1">
					<gml:description>Event age</gml:description>
					<om:samplingTime/>
					<om:procedure xlink:href="urn:cgi:classifier:CGI:ObservationMethod:Direct_observation"/>
					<om:observedProperty xlink:href="urn:cgi:propertyType:CGI:GeoSciML:2.0:GeologicEvent:eventAge"/>
					<om:featureOfInterest xlink:role="urn:cgi:featureType:CGI:GeoSciML:2.0:GeologicUnit" xlink:href="urn:ogc:def:nil:OGC:unknown"/>
					<om:result>
						<cv:CV_DiscreteCoverage>
							<cv:domainExtent xlink:href="#bh.303031333558303031382F53.Shape"/>
							<cv:rangeType/>
							<cv:element>
								<cv:CV_GeometryValuePair>
									<cv:geometry>
										<cv:CV_DomainObject>
											<cv:spatialElement xlink:href="#bh.303031333558303031382F53.1"/>
										</cv:CV_DomainObject>
									</cv:geometry>
									<cv:value xsi:type="gml:ReferenceType" xlink:href="urn:cgi:classifier:ICS:StratChart:2008:Quaternary"/>
								</cv:CV_GeometryValuePair>
							</cv:element>
							<cv:element>
								<cv:CV_GeometryValuePair>
									<cv:geometry>
										<cv:CV_DomainObject>
											<cv:spatialElement xlink:href="#bh.303031333558303031382F53.2"/>
										</cv:CV_DomainObject>
									</cv:geometry>
									<cv:value xsi:type="gml:ReferenceType" xlink:href="urn:cgi:classifier:ICS:StratChart:2008:Rupelian"/>
								</cv:CV_GeometryValuePair>
							</cv:element>
							<cv:element>
								<cv:CV_GeometryValuePair>
									<cv:geometry>
										<cv:CV_DomainObject>
											<cv:spatialElement xlink:href="#bh.303031333558303031382F53.3"/>
										</cv:CV_DomainObject>
									</cv:geometry>
									<cv:value xsi:type="gml:ReferenceType" xlink:href="urn:cgi:classifier:ICS:StratChart:2008:Priabonian"/>
								</cv:CV_GeometryValuePair>
							</cv:element>
							<cv:element>
								<cv:CV_GeometryValuePair>
									<cv:geometry>
										<cv:CV_DomainObject>
											<cv:spatialElement xlink:href="#bh.303031333558303031382F53.4"/>
										</cv:CV_DomainObject>
									</cv:geometry>
									<cv:value xsi:type="gml:ReferenceType" xlink:href="urn:cgi:classifier:ICS:StratChart:2008:Paleocene"/>
								</cv:CV_GeometryValuePair>
							</cv:element>
						</cv:CV_DiscreteCoverage>
					</om:result>
				</om:Observation>
			</sa:relatedObservation>
			<!-- As the borehole is a 3D line, we need a 3D CRS -->
			<!-- EPSG:6.15:7412 means that Z coordinate values are expressed in meters -->
			<!-- TB3 Profile note: surveyDetails are optional include only if you have the data. -->
			<sa:surveyDetails>
				<sa:SurveyProcedure gml:id="bh.303031333558303031382F53.sp">
					<!-- TB3 Profile Note: Use urn:ogc:def:uom:UCUM:* for units specification.
					See https://www.seegrid.csiro.au/twiki/bin/view/CGIModel/OgcURNScheme -->
					<!-- Cookbook note: With GML 3.2 it will be possible to specify uom simply as the
					UCUM symbol (i.e. the bit after the last colon in the urns we are using here but
					no need to urn escape; e.g. '%' does not need to be escaped to '%25'. -->
					<sa:elevationAccuracy uom="urn:ogc:def:uom:UCUM:m">0.1</sa:elevationAccuracy>
					<sa:positionMethod xlink:href="urn:ogc:def:nil:OGC:missing"/>
					<sa:positionAccuracy uom="urn:ogc:def:uom:UCUM:m">10</sa:positionAccuracy>
				</sa:SurveyProcedure>
			</sa:surveyDetails>
			<sa:shape>
				<gml:LineString gml:id="bh.303031333558303031382F53.Shape" srsName="urn:ogc:def:crs:EPSG:6.15:7412" srsDimension="3">
					<!-- As the X and Y coordinates have the same values in all the points of the 3D line, it means that the borehole is vertical -->
					<gml:pointProperty xlink:href="#bh.303031333558303031382F53.CollarLocation"/>
					<gml:pos>631154.1 2622191.9 -112</gml:pos>
				</gml:LineString>
			</sa:shape>
			<sa:length uom="urn:ogc:def:uom:UCUM:m">130</sa:length>
			<gsml:collarLocation>
				<gsml:BoreholeCollar>
			<gsml:location>
				<!-- 2D location of the collar. EPSG:6.15:27582 is the 2D projection system of France -->
				<gml:Point
					srsName="urn:ogc:def:crs:EPSG:6.15:27582"
					srsDimension="2">
					<gml:pos>709211 2582700</gml:pos>
				</gml:Point>
			</gsml:location>
			<!-- Elevation of the collar. EPSG:6.15:5719 is the elevation projection system of France -->
			<gsml:elevation
				srsName="urn:ogc:def:crs:EPSG:6.15:5719">137.6</gsml:elevation>
				</gsml:BoreholeCollar>
			</gsml:collarLocation>
		</gsml:Borehole>
    </gml:featureMember>
</wfs:FeatureCollection>