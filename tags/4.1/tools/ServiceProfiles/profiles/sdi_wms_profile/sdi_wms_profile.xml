<?xml version="1.0" encoding="UTF-8"?>
<!--========================================================================-->
<!--                                                                        -->
<!-- sdi WMS 1.1.1 Profile -->
<!--                                                                        -->
<!--========================================================================-->
<!-- $Id: sdi_wms_profile.xml 3758 2011-02-04 03:00:03Z car605 $ -->
<!--========================================================================-->

<pr:profile id="sdi-wms" xmlns:gml="http://www.opengis.net/gml"
  xmlns:gwsit="http://qld.gov.au/sdi/wsi/testing/1.0" xmlns:md="http://www.isotc211.org/2005/gmd"
  xmlns:pr="urn:ws-profile-mgr:schemas:profiles:profiles.xsd" xmlns:qg="http://qld.gov.au/wsi/1.0"
  xmlns:rim="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0"
  xmlns:ud="http://utf-x.sourceforge.net/xsd/utfxdoc_1_0/utfxdoc.xsd"
  xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsd="http://www.w3.org/2001/XMLSchema"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:ws-profile-mgr:schemas:profiles:profiles.xsd http://ws-profile-mgr.sf.net/schemas/profiles.xsd">
  <ud:version>$Revision: 403 $</ud:version>
  <ud:date>$Date: 2007-07-06 18:05:03 +1000 (Fri, 06 Jul 2007) $</ud:date>
  <ud:copyright year="2007">CGI GeoSciML </ud:copyright>
  <ud:logo>
    <ud:img src="images/qgcio.jpg" width="100%"/>
  </ud:logo>
  <pr:name>sdi WMS</pr:name>
  <pr:description>This profile is designed to enable users to access and overlay data from any
    service with the sdi data framework (subject to display scale constraints). It provides baseline
    expectations for metadata provision and behaviour and allows benchmarking of technology options
    against general sdi interoperability requirements. This profile should be implemented through a
    specific binding to data specifications and usage (display or offline printing) to achieve a
    useful level of user expectation of behaviour and stability.</pr:description>
  <pr:identifier>urn:au:gov:qld:sdi:standards:profiles:sdi-wms</pr:identifier>
  <pr:inherits-from>sdi-ows-data-services</pr:inherits-from>
  <pr:artefacts>
    <pr:artefact id="capabilities-artefact">
      <pr:name>WMS_CAPABILITIES</pr:name>
      <pr:description>WMS Capabilities document</pr:description>
      <pr:artefact-identifier>
        <pr:xpath-test>count(/WMT_MS_Capabilities)</pr:xpath-test>
      </pr:artefact-identifier>

      <pr:conformance-target id="capabilites">
        <pr:name>CAPABILITIES</pr:name>
        <pr:description>This conformance target represents the root element of a WMS capabilities
          document.</pr:description>
        <pr:xpath-locator>/WMT_MS_Capabilities</pr:xpath-locator>
      </pr:conformance-target>

      <pr:conformance-target id="service">
        <pr:name>SERVICE</pr:name>
        <pr:description>WMS Service metadata container element</pr:description>
        <pr:xpath-locator>/WMT_MS_Capabilities/Service</pr:xpath-locator>
      </pr:conformance-target>

      <pr:conformance-target id="identifier">
        <pr:name>IDENTIFIER</pr:name>
        <pr:description>This is the identifier of an addressible unit within a WMS service: a Layer.</pr:description>
        <pr:detailed-description>
          <pr:para>Users of WMS services are interested in Layers, not the service per se, WMS 1.1.1
            section 7.1.4.5.2.</pr:para>
        </pr:detailed-description>
        <pr:xpath-locator>//Layer/Name</pr:xpath-locator>
      </pr:conformance-target>

      <pr:conformance-target id="layer">
        <pr:name>LAYER</pr:name>
        <pr:description>Layer</pr:description>
        <pr:detailed-description>
          <pr:para>This conformance target type refers to any layer in a Web Map Service. <ud:link
              url="http://portal.opengeospatial.org/files/?artifact_id=1081&amp;version=1&amp;format=pdf"
              >WMS 1.1.1</ud:link> section 7.1.4.4.</pr:para>
        </pr:detailed-description>
        <pr:xpath-locator>//Layer</pr:xpath-locator>
      </pr:conformance-target>

      <pr:conformance-target id="invocable-layer">
        <pr:name>INVOCABLE_LAYER</pr:name>
        <pr:description>LAYER that has no child layers.</pr:description>
        <pr:detailed-description>
          <pr:para>This conformance target identifies all leaf layers.</pr:para>
        </pr:detailed-description>
        <pr:xpath-locator>//Layer[count(./Layer) = 0]</pr:xpath-locator>
      </pr:conformance-target>

      <pr:conformance-target id="exception">
        <pr:name>EXCEPTION</pr:name>
        <pr:description>Exception formats supported</pr:description>
        <pr:xpath-locator>/WMT_MS_Capabilities/Capability/Exception</pr:xpath-locator>
      </pr:conformance-target>

      <pr:conformance-target id="contact-person-primary">
        <pr:name>CONTACT_PERSON_PRIMARY</pr:name>
        <pr:xpath-locator>/WMT_MS_Capabilities/Service/ContactInformation/ContactPersonPrimary</pr:xpath-locator>
      </pr:conformance-target>

      <pr:conformance-target id="contact-organisation">
        <pr:name>CONTACT_ORGANISATION</pr:name>
        <pr:description>Contact information identifying service custodian. WMS 1.1.1 section
          7.1.4.1.2</pr:description>
        <pr:xpath-locator>/WMT_MS_Capabilities/Service/ContactInformation/ContactPersonPrimary/ContactOrganization</pr:xpath-locator>
      </pr:conformance-target>

      <pr:conformance-target id="layer-abstract">
        <pr:name>LAYER_ABSTRACT</pr:name>
        <pr:description>Brief description of a data layer. WMS 1.1.1 section 7.1.4.5.3</pr:description>
        <pr:xpath-locator>//Layer/Abstract</pr:xpath-locator>
        <pr:comment> Abstract is/should be defined by the ANZLIC profile, therefore this conformance
          target will be deleted. Requirement sdiWMS2 may be rendered obsolete.</pr:comment>
      </pr:conformance-target>

      <pr:conformance-target id="currency">
        <pr:name>CURRENCY</pr:name>
        <pr:description>(fixed XPath) Temporal currency of the data. There is no formal metadata
          element for this so this profile overloads the Keyword container. WMS 1.1.1 section
          7.1.4.5.3</pr:description>
        <pr:xpath-locator>//Layer/KeywordList/Keyword</pr:xpath-locator>
        <pr:comment>This needs to be removed as the conformance target cannot be
        selected.</pr:comment>
      </pr:conformance-target>

      <pr:conformance-target id="topic">
        <pr:name>TOPIC</pr:name>
        <pr:description>(fixed XPath) Full path of taxonomic terms (GCMD or species used to classify
          content). WMS 1.1.1 section 7.1.4.5.3</pr:description>
        <pr:xpath-locator>//Layer/KeywordList/Keyword</pr:xpath-locator>
        <pr:comment>This needs to be removed as the conformance target cannot be
        selected.</pr:comment>
      </pr:conformance-target>

      <pr:conformance-target id="scale-hint">
        <pr:name>SCALE_HINT</pr:name>
        <pr:description>Defines min and max scale values for a Layer.</pr:description>
        <pr:detailed-description>
          <pr:para> WMS 1.1.1 section 7.1.4.5.8</pr:para>
        </pr:detailed-description>
        <pr:xpath-locator>//Layer/ScaleHint</pr:xpath-locator>
      </pr:conformance-target>

      <pr:conformance-target id="spatial-extent">
        <pr:name>SPATIAL_EXTENT</pr:name>
        <pr:description>OGC BBOX and latlongBBBOX slots to define spatial extent.</pr:description>
        <pr:xpath-locator>//Layer/LatLonBoundingBox</pr:xpath-locator>
      </pr:conformance-target>

      <pr:conformance-target id="metadata-url">
        <pr:name>METADATA_URL</pr:name>
        <pr:description>WMS 1.1.1 section 7.1.4.5.10</pr:description>
        <pr:xpath-locator>//Layer/MetadataURL</pr:xpath-locator>
      </pr:conformance-target>

      <pr:conformance-target id="data-url">
        <pr:name>DATA_URL</pr:name>
        <pr:description>WMS 1.1.1 section 7.1.4.5.10</pr:description>
        <pr:xpath-locator>//Layer/DataURL</pr:xpath-locator>
      </pr:conformance-target>

      <pr:conformance-target id="getmap">
        <pr:name>GET_MAP</pr:name>
        <pr:description>WMS Get Map element.</pr:description>
        <pr:xpath-locator>//Capability/Request/GetMap</pr:xpath-locator>
      </pr:conformance-target>

      <pr:conformance-target id="getmap-format">
        <pr:name>GET_MAP_FORMAT</pr:name>
        <pr:description>Supported response formats for the get map operation</pr:description>
        <pr:xpath-locator>//Capability/Request/GetMap/Format</pr:xpath-locator>
      </pr:conformance-target>
    </pr:artefact>

    <pr:artefact id="layer-metadata">
      <pr:name>WMS_LAYER_METADATA</pr:name>
      <pr:description>External metadata document describing content exposed. This is used to inherit
        various information to control description of the layer when ingested into a service
        registry</pr:description>

      <pr:conformance-target id="layer-currency-start-date">
        <pr:name>WMS_LAYER_CURRENCY_START_DATE</pr:name>
        <pr:description>Data set contains data valid from this date</pr:description>
        <pr:xpath-locator>//gml:beginPosition</pr:xpath-locator>
      </pr:conformance-target>

      <pr:conformance-target id="layer-currency-end-date">
        <pr:name>WMS_LAYER_CURRENCY_END_DATE</pr:name>
        <pr:description>Data set contains data valid up to this date</pr:description>
        <pr:xpath-locator>//gml:endPosition</pr:xpath-locator>
      </pr:conformance-target>

      <!-- delete the following 
            <pr:conformance-target id="LAYER_2334">
                <pr:name>LAYER</pr:name>
                <pr:description/>
                <pr:xpath-locator>//Layer</pr:xpath-locator>
                <ext-artefact name="artefact1">
                    <url>
                        <xpath>./MetadataURL/OnlineResource/@xlink:href</xpath>
                    </url>
                </ext-artefact>
            </pr:conformance-target>

            <Layer>
                <Name>dafsdf</Name>
                <KeywordList>
                    <Keyword>farming</Keyword>
                </KeywordList>
            </Layer>
-->
    </pr:artefact>
  </pr:artefacts>

  <pr:requirements>

    <pr:requirement id="sdiWMS0000">
      <pr:name>WMS_VERSION_1_1_1</pr:name>
      <pr:normative-content>
        <pr:target-ref>capabilites</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> have a version attribute with a value of
        '1.1.1'. WMS 1.1.1 section 6.1 <pr:comment>This implies that the artefact binding asks for
          version 1.1.1</pr:comment>
      </pr:normative-content>

      <pr:non-normative-content>
        <pr:para>Currently almost all geospatial software vendors support WMS version 1.1.1 and do
          not yet support the emerging 1.3 WMS version. In addition the relatively small number of
          Queensland Government WMS services are also utilising version 1.1.1. This requirement will
          be periodically reviewed and when appropriate will be amended to include susequesnt
          version releases over time. <pr:comment>[MARK] - write the non-normative
          content.</pr:comment>
        </pr:para>

        <ud:example type="correct">
          <ud:xml xml:space="preserve">
<WMT_MS_Capabilities updateSequence="0" version="1.1.1">
              
</WMT_MS_Capabilities>
          </ud:xml>
          <ud:caption>Version attribute correctly states version 1.1.1</ud:caption>
        </ud:example>

        <ud:example type="incorrect">
          <ud:xml xml:space="preserve">
<WMS_Capabilities version="1.3.0" xmlns="http://www.opengis.net/wms" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wms http://schemas.opengis.net/wms/1.3.0/capabilities_1_3_0.xsd">
  
</WMS_Capabilities>              
          </ud:xml>
          <ud:caption>Incorrect version of WMS</ud:caption>
        </ud:example>

      </pr:non-normative-content>

      <pr:xpath-assertion id="sdiWMS0001.A1">
        <pr:target-ref>capabilites</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>./@version = '1.1.1' </pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
    </pr:requirement>


    <pr:requirement id="sdiWMS0001">
      <pr:name>Topic Category</pr:name>
      <pr:normative-content>For each <ud:element>MD_TopicCategoryCode</ud:element> found in
        corresponding service metadata document (obtained from the
        <ud:element>MetadataUrl</ud:element> URL) there
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> be a corresponding
        <ud:element>Keyword</ud:element> element. <pr:comment>Ian to write paragraph on the
          relationship between wfs/wms capabilities document and the metadata. 14/6 - need to create
          separate xml metadata docs for each of the 3 layers in the service (export from the CRS).
          Need to make sure that the topic category in each of the layer metadata records matches
          the keywords/topic categories in the service metadata and the capabilites
        document.</pr:comment>
      </pr:normative-content>

      <pr:non-normative-content>
        <pr:para>The <ud:element>MD_TopicCategoryCode</ud:element> element is a controlled list of
          thematic classifications provided in ISO 19115. These classifications assist in
          categorising like data and information resources so search applications can find resources
          concerning particular themes. </pr:para>
        <pr:para>This requirement maps the keywords used for the layers in a service to the ISO
          19115 Topic Categories. The effectivness of catalogue search functions will be limited if
          services do not are not categorised similarly to the underlying data layers, therefore
          will not be allowed under this profile.</pr:para>
        <pr:para>The examples need to come from the 4 metadata docs and the capabilities doc.</pr:para>
        <!--
        <ud:example>
          <ud:xml>&wms-capabilities;</ud:xml>
          <ud:caption>WMS capabilities document example</ud:caption>
        </ud:example>

        <ud:example>
          <ud:xml>&wms-service-metadata;</ud:xml>
          <ud:caption>WMS service metadata example</ud:caption>
        </ud:example>
-->
        <ud:example type="correct">
          <ud:xml xml:space="preserve">

          </ud:xml>
          <ud:caption>Topic category correctly listed in the ISO19115 metadata document. The
            metadata document for this example can be found at URL location
            http://myservice.org/metadata/infrastructure.xml</ud:caption>
        </ud:example>

        <ud:example type="correct">
          <ud:xml xml:space="preserve">

          </ud:xml>
          <ud:caption>Keyword list correctly listed in the WMS capabilities document and contains
            the keyword "infrastructure" as specified in the metadata document for the
          layer.</ud:caption>
        </ud:example>


        <ud:example type="incorrect">
          <ud:xml>
            <MD_Metadata>
              <topicCategory>
                <MD_TopicCategoryCode xmlns:gmd="http://www.isotc211.org/2005/gmd">infrastructure
                </MD_TopicCategoryCode>
              </topicCategory>
            </MD_Metadata>
          </ud:xml>
          <ud:caption>Topic category correctly listed in the ISO19115 metadata
          document.</ud:caption>
        </ud:example>

        <ud:example type="incorrect">
          <ud:xml>
            <Layer>
              <KeywordList>
                <Keyword>road</Keyword>
                <Keyword>rail</Keyword>
              </KeywordList>
            </Layer>
          </ud:xml>
          <ud:caption>Keyword list incorrectly listed in the WMS capabilities document as it does
            not contain the keyword "infrastructure" as specified in the metadata document for the
            layer.</ud:caption>
        </ud:example>

      </pr:non-normative-content>

    <!--  <pr:xpath-assertion>
        <pr:target-ref>invocable-layer</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>for $code in //MD_TopicCategoryCode ;
            ${conformancce_target}//Keyword/text() = ${code}; done </pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>-->
    </pr:requirement>

    <pr:requirement id="sdiWMS1">
      <pr:normative-content>
        <pr:comment>[SHANE] - Not sure about the need for this given the content below</pr:comment>
        <pr:target-ref>contact-organisation</pr:target-ref>
      </pr:normative-content>
    </pr:requirement>

    <pr:requirement id="sdiWMS0002">
      <pr:name>Contact Person</pr:name>
      <pr:extends>sdiWMS1</pr:extends>
      <pr:normative-content>
        <pr:comment>need to make sure that the correct example matches queensland goverment busines
          rules</pr:comment>
        <pr:comment>[MARK] - write the non-normative content for this requirement and provide
          examples of correct and incorrect usage. sdiWMS0001 -
          sdiWMS0001_2</pr:comment><pr:target-ref>service</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> contain exactly one
          <ud:element>ContactPersonPrimary</ud:element> element. </pr:normative-content>

      <pr:non-normative-content>
        <pr:para>This is to identify the name of the person currently acting in the role defined in
          requirement sdiWMS0003 <pr:requirement-ref>sdiWMS0001</pr:requirement-ref>. Each service
          offering <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> contain reference to a designated
          position, responsible for the custodianship and management of the service. It is also
          desirable that this role is also reflected in the position description of the described
          position</pr:para>

        <ud:example type="correct">
          <ud:xml highlight-xpath="./ContactInformation/ContactPersonPrimary" xml:space="preserve">
    <ContactInformation>
      <ContactPersonPrimary>
        <ContactPerson>Jeff deLaBeaujardiere</ContactPerson>
        <ContactOrganization>NASA</ContactOrganization>
      </ContactPersonPrimary>
      <ContactPosition>Computer Scientist</ContactPosition>
      <ContactAddress>
        <AddressType>postal</AddressType>
        <Address>NASA Goddard Space Flight Center, Code 933</Address>
        <City>Greenbelt</City>
        <StateOrProvince>MD</StateOrProvince>
        <PostCode>20771</PostCode>
        <Country>USA</Country>
      </ContactAddress>
      <ContactVoiceTelephone>+1 301 286-1569</ContactVoiceTelephone>
      <ContactFacsimileTelephone>+1 301 286-1777</ContactFacsimileTelephone>
      <ContactElectronicMailAddress>delabeau@iniki.gsfc.nasa.gov</ContactElectronicMailAddress>
    </ContactInformation>
          </ud:xml>
          <ud:caption>Correct example</ud:caption>
        </ud:example>

        <ud:example type="incorrect">
          <ud:xml xml:space="preserve">
    <ContactInformation>
      <!-- ContactPersonPrimary is missing -->
      <ContactPosition>Computer Scientist</ContactPosition>
      <ContactAddress>
        <AddressType>postal</AddressType>
        <Address>NASA Goddard Space Flight Center, Code 933</Address>
        <City>Greenbelt</City>
        <StateOrProvince>MD</StateOrProvince>
        <PostCode>20771</PostCode>
        <Country>USA</Country>
      </ContactAddress>
      <ContactVoiceTelephone>+1 301 286-1569</ContactVoiceTelephone>
      <ContactFacsimileTelephone>+1 301 286-1777</ContactFacsimileTelephone>
      <ContactElectronicMailAddress>delabeau@iniki.gsfc.nasa.gov</ContactElectronicMailAddress>
    </ContactInformation>
          </ud:xml>
          <ud:caption>Icorrect example</ud:caption>
        </ud:example>

      </pr:non-normative-content>

      <pr:xpath-assertion id="sdiWMS0002.A1">
        <pr:target-ref>service</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>count(./ContactInformation) = 1</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
    </pr:requirement>

    <pr:requirement id="r0003">
      <pr:name>CONTACT_ORGANISATION_REQUIRED</pr:name>
      <pr:extends>sdiWMS0001</pr:extends>
      <pr:normative-content>
        <pr:comment>[MARK] - write the non-normative content for this requirement and provide
          examples of correct and incorrect usage.</pr:comment>
        <pr:target-ref>contact-organisation</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> contain
        <ud:element>ContactPersonPrimary</ud:element> or <ud:element>ContactPosition</ud:element>
      </pr:normative-content>
      <pr:non-normative-content>
        <pr:para>This is to identify the Queensland Government position responsible for the
          custodianship and management of the service. The individual filling this role
            <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> have detailed content (but no necessarily
          technical) knowledge of the service. It is also desirable that this role is also reflected
          in the position description of the described position.</pr:para>
        <ud:example>
          <ud:xml>
            <need-example/>
          </ud:xml>
          <ud:caption>Senior Project Officer - Service Implementation Senior Scientist - Water
            Resources </ud:caption>
        </ud:example>
      </pr:non-normative-content>
      <pr:xpath-assertion id="sdiWMS0003.A1">
        <pr:target-ref>contact-organisation</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>count(./ContactPersonPrimary | ./ContactPosition) &gt;
          1</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
    </pr:requirement>

    <pr:requirement id="sdiWMS0004">
      <pr:extends>sdiWMS0001</pr:extends>
      <pr:normative-content>
        <pr:comment>[MARK] - write the non-normative content for this requirement and provide
          examples of correct and incorrect usage.</pr:comment>
        <pr:target-ref>contact-organisation</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> contain ContactFacsimileTelephone or
        ContactElectronicMailAddress </pr:normative-content>
      <pr:non-normative-content>
        <pr:para>This describes the contact telephone numbers of the position responsible for the
          sercive, as described in R0003<pr:requirement-ref>sdiWMS0000</pr:requirement-ref>.</pr:para>
        <ud:example>
          <ud:xml>
            <need-example/>
          </ud:xml>
          <ud:caption>+617 1234 5678</ud:caption>
        </ud:example>
      </pr:non-normative-content>
      <pr:xpath-assertion id="sdiWMS0004.A1">
        <pr:target-ref>contact-organisation</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>count(./ContactFacsimileTelephone | ./ContactElectronicMailAddress)
            &gt; 1</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
    </pr:requirement>


    <pr:requirement id="sdiWMS0005">
      <pr:normative-content>
        <pr:target-ref>service</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> contain exactly one
        <ud:element>Abstract</ud:element> element. </pr:normative-content>
      <pr:non-normative-content>
        <pr:para> The Abstract is a brief narrative summary of the content of the service. Careful
          consideration should be given when preparing an Abstract as it is an important element for
          the identification and discovery of a service. Other material to be conveyed in this
          element may include a description of the purpose for which the service was created, and a
          textual description of the spatial extent of the data contained in the service. Generally,
          the Abstract should describe the contents of the service for a non-expert user, in plain
          language. It should be more than a repeat of the title. While the Abstract element is
          optional in the WMS 1.1.1. specficiation (see section 7.1.4.5.3), this profile stipulates
          that an abstract is <pr:rfc2119-keyword>REQUIRED</pr:rfc2119-keyword>.</pr:para>
        <ud:example type="correct">
          <ud:xml highlight-xpath=".//Abstract">
            <Service>
              <Name>OGC:WMS</Name>
              <Title>Acme Corp. Map Server</Title>
              <Abstract>WMT Map Server maintained by Acme Corporation. Contact:
                webmaster@wmt.acme.com. High-quality maps showing roadrunner nests and possible
                ambush locations.</Abstract>
              <KeywordList>
                <Keyword>bird</Keyword>
                <Keyword>roadrunner</Keyword>
                <Keyword>ambush</Keyword>
              </KeywordList>
            </Service>
          </ud:xml>
          <ud:caption>A compliant WMS Service contains an abstract element.</ud:caption>
        </ud:example>

        <ud:example type="incorrect">
          <ud:xml>
            <Service>
              <Name>OGC:WMS</Name>
              <Title>Acme Corp. Map Server</Title>
              <!-- Note the absence of the Abstract -->
              <KeywordList>
                <Keyword>bird</Keyword>
                <Keyword>roadrunner</Keyword>
                <Keyword>ambush</Keyword>
              </KeywordList>
            </Service>
          </ud:xml>
          <ud:caption>An non compliant WMS Service that does not contain an abstract
          element.</ud:caption>
        </ud:example>

      </pr:non-normative-content>

      <pr:xpath-assertion id="sdiWMS0005.A1">
        <pr:target-ref>service</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>count(./Abstract) = 1</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
    </pr:requirement>

    <pr:requirement id="sdiWMS0006">
      <pr:name>CURRENCY</pr:name>
      <pr:normative-content>
        <pr:comment>[IAN] - write the non-normative content for this requirement and provide
          examples of correct and incorrect usage.</pr:comment>
        <pr:target-ref>invocable-layer</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> contain exactly one
        <pr:target-ref>currency</pr:target-ref> keyword containing a term from the data currency
        controlled vocabulary [fix xpath]] <pr:comment>URN of vocabulary (example below) needs to be
          a published artefact resolvable with sdi architecture. ebRIM classification have been
          defined.</pr:comment>
      </pr:normative-content>
      <pr:non-normative-content>
        <pr:para>A WMS service can depict information from a wide range of data sources and of
          varying temporal content. To aid catalogue searching for services depicting current or
          historical or predicted data content, a keyword is used to give a general indication of
          the currency of the data depicted within a service. Because keywords are unqualified and
          multi-valued, each instance must be a fully qualified (unambiguous) URN. The
          classification scheme used is a controlled vocabulary for "Data Currency" (whose initial
          content is adopted from the Australian marine SDI community, and includes the keywords
          "Current", "Historical", "Predicted" and "Unknown".)</pr:para>
        <ud:example type="correct">
          <ud:xml highlight-xpath=".//Keyword" xml:space="preserve">
<Layer>
  <KeywordList>
    <Keyword>urn:asdi:marine:data:currency:current</Keyword>
  </KeywordList>
</Layer>
            </ud:xml>
          <ud:caption>Correct usage</ud:caption>
        </ud:example>

        <ud:example type="incorrect">
          <ud:xml highlight-xpath=".//Keyword" xml:space="preserve">
<Layer>
  <KeywordList>
    <Keyword>Current</Keyword>
  </KeywordList>
</Layer>
          </ud:xml>
          <ud:caption>Incorrect usage.</ud:caption>
        </ud:example>
      </pr:non-normative-content>



     <!-- <pr:xpath-assertion id="sdiWMS0006.A1">
        <pr:target-ref>invocable-layer</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>.//Keyword MUST MATCH EXACTLY ONE //rim:ClassificationScheme[@id =
            'urn:au:gov:qld:sdi:currency']//rim:Name/rim:LocalizedString/@value</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>-->
    </pr:requirement>

    <pr:requirement id="sdiWMS0007">
      <pr:normative-content>
        <pr:comment>Mark to do</pr:comment>
        <pr:target-ref>invocable-layer</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> contain exactly one topic keyword containing a
        term from the sdi registry topic [get ref] controlled vocabulary <pr:comment>URN of
          vocabulary (example below) needs to be a published artefact resolvable with sdi
          architecture. Isn't this the same as XXXXX555 - no, refers to referencing possibly
          multiple thesauri e.g. SSQ Govt Categories (Land and Resources, Business and Industry
          etc), or the Australian Mining Handbook (what ever it's called), ANZLIC, QKey. Jacek to
          meet with Sam on Monday. Need to determine appropriate custodian for each of the
        thesauri.</pr:comment>
      </pr:normative-content>
      <pr:non-normative-content>
        <pr:para>Meaningful and representitive keywords are required to ensure simple and
          consisitant searching for related information. Both the spelling and keywords used should
          be from one of the keyword lists endorsed by the custodian of keyword lists for Queensland
          Government. At least one keyword is required to assist in finding required services.
        </pr:para>
      </pr:non-normative-content>
      <pr:xpath-assertion id="sdiWMS0007.A1">
        <pr:target-ref>invocable-layer</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>count(./KeywordList/Keyword[
            startsWith('scheme=urn:au:gov:qld:sdi:standards:discoverysemantics:topic') =
          1</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
    </pr:requirement>

    <pr:requirement id="sdiWMS0008">
      <pr:normative-content>
        <pr:comment>[MICAH] - write the non-normative content for this requirement and provide
          examples of correct and incorrect usage. </pr:comment>
        <pr:target-ref>invocable-layer</pr:target-ref>
        <pr:rfc2119-keyword>SHOULD</pr:rfc2119-keyword> contain minimum and maximum display scales
        supported for each layer by populating the <pr:target-ref>scale-hint</pr:target-ref>
        element. See table 7 for inheritance by parent from child. </pr:normative-content>
      <pr:non-normative-content>
        <pr:para>The inclusion of maximum (max) and minimum (min) scale hints assist in delivering
          reliable performance of services and aides in limiting misuse of data by restricting the
          viewable scales to match the data accuracy. Each layer should have a "max" and "min" scale
          hint. In some cases, it may be acceptable to not include a scale hint such as a map
          service that provides static images of non-georeferenced data, or a service that provides
          sparsely populated data that is captured with sufficient accuracy e.g. a statewide GPS
          point dataset of species locations that contains minimal data. In this case the data is
          accurate at the property scale and is geographically sparse enough not to adversly effect
          rendering performance.</pr:para>
      </pr:non-normative-content>
      <pr:xpath-assertion id="sdiWMS0008.A1">
        <pr:target-ref>invocable-layer</pr:target-ref>
        <pr:rfc2119-keyword>SHOULD</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>count(ancestor-or-self::Layer/ScaleHint/@min) &gt;
          0</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
      <pr:xpath-assertion id="sdiWMS0008.A2">
        <pr:target-ref>invocable-layer</pr:target-ref>
        <pr:rfc2119-keyword>SHOULD</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>count(ancestor-or-self::Layer/ScaleHint/@max) &gt;
          0</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
    </pr:requirement>

    <pr:requirement id="sdiWMS0009">
      <pr:normative-content>
        <pr:comment>[IAN] - write the non-normative content for this requirement and provide
          examples of correct and incorrect usage. [JACEK] add a paragraph on the technical
          component, ie linking from the Capabilities document to the Metadata document.</pr:comment>
        <pr:target-ref>invocable-layer</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> contain exactly one
          <pr:target-ref>metadata-url</pr:target-ref> keyword that references a sdi standard dataset
        metadata profile XML document. This will be an ISO 19139 conformant implementation of the
        ISO 19115 metadata standard referred to by the keyword "TC211". <pr:comment>Some services
          within the QG may already use FGDC. This requirement may need to be deleted.</pr:comment></pr:normative-content>
      <pr:non-normative-content>
        <pr:para>Each layer that maybe depicted in a web map service should be described in the
          metadata document. A web map service must use one or more
          <ud:element>MetadataURL</ud:element> elements to offer detailed, standardized metadata
          about the data corresponding to a particular layer. The 'type' attribute indicates the
          standard to which the metadata complies. Two 'type' attribute values are defined by the
          International Standard: the value 'TC211' refers the ISO 19115 metadata standard . The
          target is actually ANZLIC's ISO 19139 conformant implementation profile, which should be
          separately validated as part of the metadata publishing regime. The enclosed
          &lt;Format&gt; element indicates the file format MIME type of the metadata record.
          This must be text/xml, indicating an XML document. MetadataURL elements are not inherited
          by a parent Layers. Examples in the Infolink capabilities file reflect this
          non-inheritance.</pr:para>
        <ud:example type="correct">
          <ud:xml highlight-xpath="./MetadataURL[1]" xml:space="preserve">
            <MetadataURL type="TC211">
              <Format>text/xml</Format>
              <OnlineResource xlink:href="http://gis.govnet.qld.gov.au/layer_metadata/QLD_Roads.xml" xlink:type="simple" xmlns:xlink="http://www.w3.org/1999/xlink"/>
            </MetadataURL>
            <MetadataURL type="FGDC">
              <Format>text/plain</Format>
              <OnlineResource xlink:href="http://gis.govnet.qld.gov.au/layer_metadata/QLD_Roads.txt" xlink:type="simple" xmlns:xlink="http://www.w3.org/1999/xlink"/>
            </MetadataURL>
          </ud:xml>
          <ud:caption>Correctly formatted reference to a metadata document.</ud:caption>
        </ud:example>


        <ud:example type="incorrect">
          <ud:xml highlight-xpath=".//Format" xml:space="preserve">
  <MetadataURL type="TC211">
    <Format>text/plain</Format>
    <OnlineResource xlink:href="http://gis.govnet.qld.gov.au/layer_metadata/QLD_Roads.xml" xlink:type="simple" xmlns:xlink="http://www.w3.org/1999/xlink"/>
  </MetadataURL>
            </ud:xml>
          <ud:caption>Incorrectly formatted reference to a metadata document.</ud:caption>
        </ud:example>


      </pr:non-normative-content>
      <pr:xpath-assertion id="sdiWMS0009.A1">
        <pr:target-ref>invocable-layer</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>count(./MetadataURL[@type = 'TC211']/Format[text() = 'text/xml']) =
          1</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>

    </pr:requirement>

    <pr:requirement id="sdiWMS0011">
      <pr:normative-content>
        <pr:comment>[SHANE] - write the non-normative content for this requirement and provide
          examples of correct and incorrect usage. Jacek to investigate metadata document structure
          and find appropriate conformance target for this requirement.</pr:comment>
        <pr:target-ref>layer-currency-end-date</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> be present.</pr:normative-content>

      <!--
      <pr:xpath-assertion id="sdiWMS0011.A1">
        <pr:target-ref>WMS_LAYER</pr:target-ref>
        <pr:rfc2119-keyword>MAY</pr:rfc2119-keyword>
      </pr:xpath-assertion>
-->


    </pr:requirement>

    <pr:requirement id="sdiWMS0010">

      <pr:normative-content> Both <pr:target-ref>layer-currency-start-date</pr:target-ref> and
          <pr:target-ref>layer-currency-end-date</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> use YYYY-MM-DD date format. </pr:normative-content>
      <pr:non-normative-content>
        <pr:para> The layer currency start date is the earliest date at which the phenomena in the
          layer actually occurred. The layer currency end date is the latest date at which the
          phenomena in the layer actually occurred. This is not necessarily the date on which a
          record was entered into a database. This element records the age of the data in the layer
          itself. It is possible that data may be recorded many years after an event eg an
          earthquake or a flood. It is the date that the event itself occurred which is required in
          this element. The date of conversion of data from one form to another form or one database
          to another, or the date of conversion of the dataset to a specific format or to a specific
          system should not be recorded. The format for the
          <pr:target-ref>layer-currency-start-date</pr:target-ref> and
            <pr:target-ref>layer-currency-end-date</pr:target-ref>
          <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> use the YYYY-MM-DD date format </pr:para>

        <pr:para> relax asserton to allow timestamps.
          <pr:rfc2119-keyword>SHOULD</pr:rfc2119-keyword> include timezone </pr:para>
        <ud:example type="correct">
          <ud:xml>
            <gml:beginPosition>2004-01-01</gml:beginPosition>
            <gml:endPosition>2007-01-01</gml:endPosition>
          </ud:xml>
          <ud:caption>Correctly formatted currency start and end dates.</ud:caption>
        </ud:example>

        <ud:example type="incorrect">
          <ud:xml>
            <gml:beginPosition>2004/01/01</gml:beginPosition>
            <gml:endPosition>2007/01/01</gml:endPosition>
          </ud:xml>
          <ud:caption>Incorrectly formatted currency end date</ud:caption>
        </ud:example>
      </pr:non-normative-content>

      <pr:xpath-assertion id="sdiWMS0010.A1">
        <pr:target-ref>layer-currency-start-date</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>matches(., "\d\d\d\d-\d\d-\d\d")</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
      <pr:xpath-assertion id="sdiWMS0010.A2">
        <pr:target-ref>layer-currency-end-date</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>matches(., "\d\d\d\d-\d\d-\d\d")</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>

    </pr:requirement>

    <!-- don't really need the following constraint
    <pr:requirement id="sdiWMS7">
      <pr:normative-content>
        <pr:target-ref>WMS_LAYER</pr:target-ref>
        <pr:rfc2119-keyword>MAY</pr:rfc2119-keyword> contain one
        <pr:target-ref>WMS_DATAURL</pr:target-ref> keyword that references a thumbnail image of the
        dataset. If a DataURL exists of Format image/png then this will be taken to be a thumbnail
        image of the data set <pr:comment> how do we enforce it to be the correct format? currently
          thumbnail specification from CRS = 100x67</pr:comment>
      </pr:normative-content>
      <pr:xpath-assertion id="sdiWMS7.A1">
        <pr:target-ref>WMS_LAYER</pr:target-ref>
        <pr:rfc2119-keyword>MAY</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>count(./DataURL/Format = 'text/png']/OnlineResource/@xlink:href) = 1
          </pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
    </pr:requirement>
    -->


    <pr:requirement id="sdiWMS0013">
      <pr:normative-content>
        <pr:comment>[SHANE] - write the non-normative content for this requirement and provide
          examples of correct and incorrect usage.</pr:comment>
        <pr:target-ref>exception</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> support XML and in_image format exceptions
          <pr:comment>This requires mark to do more technology benchmarking. Probably what the word
          means...</pr:comment>
      </pr:normative-content>
      <pr:non-normative-content>
        <pr:para>The exception tag provides information about the exception formats a client can ask
          for when making requests. Examples of clients in this case may refer to custom built
          desktop applications or browser based applications. The decision to support xml as well as
          inimage was made to provide the maximum flexibility for application developers. The
          inimage option will provide users with an exception message embedded in an image - this is
          predominately useful to provide a visual message of the unavailabiliy of a service, or to
          relate other relevant error messages. The XML format provides functionality for developers
          to trap errors as they occur and implement an appropriate solution to deal with the error
          or exception. </pr:para>
        <ud:example type="correct">
          <ud:xml>
            <Exception>
              <Format>application/vnd.ogc.se_xml</Format>
              <Format>application/vnd.ogc.se_inimage</Format>
            </Exception>
          </ud:xml>
          <ud:caption>Correct example of defining the available exception formats in a
          service.</ud:caption>
        </ud:example>
        <ud:example type="incorrect">
          <ud:xml>
            <Exception>
              <Format>xml</Format>
              <Format>inimage</Format>
            </Exception>
          </ud:xml>
          <ud:caption>Incorrect example of defining the available exception formats in a
          service.</ud:caption>
        </ud:example>


      </pr:non-normative-content>
      <pr:xpath-assertion id="sdiWMS0013.A1">
        <pr:target-ref>exception</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>./Format/text() = 'application/vnd.ogc.se_xml'</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
      <pr:xpath-assertion id="sdiWMS0013.A2">
        <pr:target-ref>exception</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>./Format/text() =
          'application/vnd.ogc.se_inimage'</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
    </pr:requirement>

    <pr:requirement id="sdiWMS0014">
      <pr:normative-content>
        <pr:comment>[IAN] - write the non-normative content for this requirement and provide
          examples of correct and incorrect usage.</pr:comment> Services
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword> be provided using a Spatial Reference System
        for latitude and longitude coordinates in decimal degrees on the Geocentric Datum of
        Australia (GDA94). <pr:target-ref>layer</pr:target-ref>
      </pr:normative-content>
      <pr:non-normative-content>
        <pr:para>Services can be offered in a range of different spatial reference systems.
          Generally the service SRS is defined in the parent layer but an SRS can be defined on a
          leaf layer as well. Any leaf layer SRS is added to the defined parent layer SRS and is
          available in all those stated SRS. Users should be aware that a service may not be
          displayed in a client viewer if the viewer SRS is not specified in the service
          capabilities file.</pr:para>
        <pr:para>A full list of EPSG codes can be found in a Microsoft Access .mdb file at
          http://www.epsg.org/</pr:para>
        <ud:example type="correct">
          <ud:xml xml:space="preserve">
            <Layer>
              <Title>Parent layer</Title>
              <SRS>EPSG:4283</SRS>
              <SRS>EPSG:4326</SRS>
            </Layer>
            <Layer>
              <Title>Parent layer</Title>
              <SRS>EPSG:4283</SRS>
              <SRS>EPSG:4326</SRS>
              <Layer>
                <Title>Leaf Layer</Title>
                <SRS>EPSG:20855</SRS>
              </Layer>
            </Layer>
          </ud:xml>
          <ud:caption>Correct format of service SRS definition.</ud:caption>
        </ud:example>

        <ud:example type="incorrect">
          <ud:xml>
            <Layer>
              <Title>Parent layer</Title>
              <SRS>EPSG:4283 EPSG:4326</SRS>
            </Layer>
          </ud:xml>
          <ud:caption>Incorrect format of service SRS definition.</ud:caption>
        </ud:example>

      </pr:non-normative-content>
      <pr:xpath-assertion id="sdiWMS0014.A1">
        <pr:target-ref>layer</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>contains(./SRS,"EPSG:4283")</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>

    </pr:requirement>

    <pr:requirement id="sdiWMS0015">
      <pr:normative-content>
        <pr:comment>[MICAH] - write the non-normative content for this requirement and provide
          examples of correct and incorrect usage.</pr:comment>
        <pr:target-ref>getmap</pr:target-ref> must include PNG (image/png). This should support
        transparency and image compression.</pr:normative-content>
      <pr:xpath-assertion id="sdiWMS0015.A1">
        <pr:target-ref>getmap</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>count(./Format[text() = 'image/png']) = 1</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>

    </pr:requirement>

    <pr:requirement id="sdiWMS0016">
      <pr:normative-content>
        <pr:comment>[JACEK] to move this requirement to an ancestor profile and document it</pr:comment>
        <pr:target-ref>service</pr:target-ref> must contain one or more keywords containing the URN
        of the sdi profile it supports. The URNs of profiles are as defined here. <pr:comment>Stick
          profiles into CRS.</pr:comment>
      </pr:normative-content>
      <pr:xpath-assertion id="sdiWMS0016.A1">
        <pr:target-ref>service</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>./KeywordList/Keyword in { set }</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
    </pr:requirement>

    <pr:requirement id="sdiWMS0017">
      <pr:normative-content>
        <pr:comment>[MICAH] - write the non-normative content for this requirement and provide
          examples of correct and incorrect usage.</pr:comment>
        <pr:target-ref>invocable-layer</pr:target-ref>
        <pr:rfc2119-keyword>SHOULD</pr:rfc2119-keyword>advertise it's opacity.
          <pr:comment>Technology benchmark this too!</pr:comment>
      </pr:normative-content>
      <pr:non-normative-content>
        <pr:para>Reference table 7 : Inheritance of layer table properties, section 7.1.4.7, note
          child properties when defined over-ride those defined properties of the parent</pr:para>
      </pr:non-normative-content>
      <pr:xpath-assertion id="sdiWMS0017.A1">
        <pr:target-ref>invocable-layer</pr:target-ref>
        <pr:rfc2119-keyword>SHOULD</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>./@opaque = '0'</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
    </pr:requirement>

    <pr:requirement id="sdiWMS0018">
      <pr:normative-content>
        <pr:comment>[IAN] - write the non-normative content for this requirement and provide
          examples of correct and incorrect usage.</pr:comment>
        <pr:target-ref>layer</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>specify the layer is "subsettable" (nosubsets =
        "0" if declared) (WMS 1.1.1 section 7.1.4.6.4). <pr:comment>Need to check with Rob if we
          really want this requirement apply to all WMS services.</pr:comment></pr:normative-content>
      <pr:xpath-assertion id="sdiWMS0018.A1">
        <pr:target-ref>layer</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-false>
          <pr:xpath-expression>./@nosubsets = "1"</pr:xpath-expression>
        </pr:assert-false>
      </pr:xpath-assertion>
    </pr:requirement>

    <pr:requirement id="sdiWMS0019">
      <pr:normative-content>
        <pr:comment>[IAN] - write the non-normative content for this requirement and provide
          examples of correct and incorrect usage.</pr:comment>
        <pr:target-ref>layer</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>specify the layer is not "fixedWidth" or
        "fixedHeight" (WMS 1.1.1 section 7.1.4.6.4). <pr:comment>Need to check with Rob if we really
          want this requirement apply to all WMS services.</pr:comment>
      </pr:normative-content>
      <pr:xpath-assertion id="sdiWMS0019.A1">
        <pr:target-ref>layer</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-false>
          <pr:xpath-expression>./@fixedWidth = "1"</pr:xpath-expression>
        </pr:assert-false>
      </pr:xpath-assertion>
      <pr:xpath-assertion id="sdiWMS0019.A2">
        <pr:target-ref>layer</pr:target-ref>
        <pr:rfc2119-keyword>MUST</pr:rfc2119-keyword>
        <pr:assert-false>
          <pr:xpath-expression>./@fixedHeight = "1"</pr:xpath-expression>
        </pr:assert-false>
      </pr:xpath-assertion>
    </pr:requirement>

    <pr:requirement id="sdiWMS0020">
      <pr:normative-content><pr:comment>[MARK] - write the non-normative content for this
          requirement and provide examples of correct and incorrect usage.</pr:comment> A
          <pr:target-ref>capabilites</pr:target-ref>
        <pr:rfc2119-keyword>SHOULD NOT</pr:rfc2119-keyword> contain more than 100 layers.
          <pr:comment>May need to limit to deal with harvesting limitations in CRS or other client
          ability to cope with large numbers.</pr:comment>
      </pr:normative-content>
      <pr:non-normative-content>
        <pr:para> When a map service is created, consideration should be given to the service
          content, and the intented purpose of the service, with a view to maximising usability in
          client applications. This requirement aims to balance the complexity of presenting
          numerous data layers in one service and still provide some logical client application usability
          and interaction with the service.  In certain situations, particularly for organisations wanting to
          offer all their custodial information as layers in a single service, it may be necessary to
          exceed this limit. </pr:para>
        <pr:para>Consideration should be also given to organising service layers into logical
          groupings to aid interaction using client viewers and reduce complexity.</pr:para>
        <ud:example type="correct">
          <ud:xml> 
            <Layer>
            <Title>Title of Parent Layer</Title>
              
            </Layer>  
          </ud:xml>
          <ud:caption>Correct format of grouping service layers for ease of use.</ud:caption>
        </ud:example>
        <ud:example type="incorrect">
          <ud:xml> </ud:xml>
          <ud:caption>Incorrect format of grouping service layers for ease of use.</ud:caption>
        </ud:example>


      </pr:non-normative-content>

      <pr:xpath-assertion id="sdiWMS0020.A1">
        <pr:target-ref>capabilites</pr:target-ref>
        <pr:rfc2119-keyword>SHOULD NOT</pr:rfc2119-keyword>
        <pr:assert-true>
          <pr:xpath-expression>count(.//Layer)&gt; 100</pr:xpath-expression>
        </pr:assert-true>
      </pr:xpath-assertion>
    </pr:requirement>
  </pr:requirements>

</pr:profile>
