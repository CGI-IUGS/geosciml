<?xml version="1.0"?>
<SensorML xmlns="http://www.opengis.net/sensorML/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:swe="http://www.opengis.net/swe/1.0" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xsi:schemaLocation="http://www.opengis.net/sensorML/1.0 ../base/sensorML.xsd" version="1.0">
	<member xlink:role="urn:x-ogc:def:sensor:OGC:processChain">
		<ProcessChain gml:id="MinMax">
			<gml:description>
				Input accepts a continuous stream of values; 
				Outputs to the "newMaximum" channel any value that 
				   exceeds the current maximum value;
				Outputs to the "newMinimum" channel any value that 
				   is less than the current minimum value;
				Retains the current minimum and maximum values until
				   the value of "true" is received on the "reset" parameter;			   
			</gml:description>
			<gml:name>Minimum-Maximum Detector</gml:name>
			<!--~~~~~~~~~~~~~~~~~~~~-->
			<!--Process Chain Inputs-->
			<!--~~~~~~~~~~~~~~~~~~~~-->
			<inputs>
				<InputList>
					<input name="value">
						<swe:Quantity/>
					</input>
				</InputList>
			</inputs>
			<!--~~~~~~~~~~~~~~~~~~~~~-->
			<!--Process Chain Outputs-->
			<!--~~~~~~~~~~~~~~~~~~~~~-->
			<outputs>
				<OutputList>
					<output name="newMinimum">
						<swe:Quantity/>
					</output>
					<output name="newMaximum">
						<swe:Quantity/>
					</output>
				</OutputList>
			</outputs>
			<!--~~~~~~~~~~~~~~~~~~~~~~~~~-->
			<!--Process Chain Parameters -->
			<!--~~~~~~~~~~~~~~~~~~~~~~~~~-->
			<parameters>
				<ParameterList>
					<parameter name="reset">
						<swe:Boolean/>
					</parameter>
				</ParameterList>
			</parameters>
			<components>
				<ComponentList>
					<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
					<!--  Maximum Compare Process  -->
					<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
					<component name="maxCompare" xlink:role="urn:x-ogc:def:sensor:process">
						<ProcessModel>
							<!--~~~~~~~~~~~~~~~~~~~~-->
							<!--process Inputs-->
							<!--~~~~~~~~~~~~~~~~~~~~-->
							<inputs>
								<InputList>
									<input name="inputValue">
										<swe:Quantity/>
									</input>
								</InputList>
							</inputs>
							<!--~~~~~~~~~~~~~~~~~~~~~-->
							<!--Process Chain Outputs-->
							<!--~~~~~~~~~~~~~~~~~~~~~-->
							<outputs>
								<OutputList>
									<output name="newValue">
										<swe:Quantity/>
									</output>
								</OutputList>
							</outputs>
							<!--~~~~~~~~~~~~~~~~~~~~~~~~~-->
							<!--Process Chain Parameters -->
							<!--~~~~~~~~~~~~~~~~~~~~~~~~~-->
							<parameters>
								<ParameterList>
									<parameter name="threshold">
										<swe:Quantity/>
									</parameter>
									<parameter name="logic">
										<swe:Category 
											definition="urn:x-ogc:def:process:logic">
											<swe:value>GreaterThan</swe:value>
										</swe:Category>
									</parameter>
									<parameter name="reset">
										<swe:Boolean/>
									</parameter>
								</ParameterList>
							</parameters>
							<method xlink:href="urn:x-ogc:def:process:logicalCompare001"/>
						</ProcessModel>					
					</component>					
					<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
					<!--  Minimum Compare Process     -->
					<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
					<component name="minCompare" xlink:role="urn:x-ogc:def:sensor:process">
						<ProcessModel>
							<!--~~~~~~~~~~~~~~~~~~~~-->
							<!--process Inputs-->
							<!--~~~~~~~~~~~~~~~~~~~~-->
							<inputs>
								<InputList>
									<input name="inputValue">
										<swe:Quantity/>
									</input>
								</InputList>
							</inputs>
							<!--~~~~~~~~~~~~~~~~~~~~~-->
							<!--Process Chain Outputs-->
							<!--~~~~~~~~~~~~~~~~~~~~~-->
							<outputs>
								<OutputList>
									<output name="newValue">
										<swe:Quantity/>
									</output>
								</OutputList>
							</outputs>
							<!--~~~~~~~~~~~~~~~~~~~~~~~~~-->
							<!--Process Chain Parameters -->
							<!--~~~~~~~~~~~~~~~~~~~~~~~~~-->
							<parameters>
								<ParameterList>
									<parameter name="threshold">
										<swe:Quantity/>
									</parameter>
									<parameter name="logic">
										<swe:Category 
											definition="urn:x-ogc:def:process:logic">
											<swe:value>GreaterThan</swe:value>
										</swe:Category>
									</parameter>
									<parameter name="reset">
										<swe:Boolean/>
									</parameter>
								</ParameterList>
							</parameters>
							<method xlink:href="urn:x-ogc:def:process:logicalCompare001"/>
						</ProcessModel>					
					</component>					
				</ComponentList>
			</components>
			<connections>
				<ConnectionList>
					<!-- process "value" input to maxCompare "inputValue" input -->
					<connection name="inputToMaxInput">
						<Link>
							<source ref="this/inputs/value"/>
							<destination ref="maxCompare/inputs/inputValue"/>
						</Link>
					</connection>
					<!-- process "value" input to minCompare "inputValue" input -->
					<connection name="inputToMinInput">
						<Link>
							<source ref="this/inputs/value"/>
							<destination ref="minCompare/inputs/inputValue"/>
						</Link>
					</connection>
					<!-- maxCompare "newValue" output to process "newMaximum" output -->
					<connection name="maxResultToProcessOut">
						<Link>
							<source ref="maxCompare/outputs/newValue"/>
							<destination ref="process/outputs/newMaximum"/>
						</Link>
					</connection>
					<!-- minCompare "newValue" output to process "newMinimum" output -->
					<connection name="maxResultToProcessOut">
						<Link>
							<source ref="minCompare/outputs/newValue"/>
							<destination ref="process/outputs/newMinimum"/>
						</Link>
					</connection>
					<!-- maxCompare "newValue" output to maxCompare "threshold" parameter -->
					<connection name="maxResultToMaxThreshold">
						<Link>
							<source ref="maxCompare/outputs/newValue"/>
							<destination ref="maxCompare/parameters/threshold"/>
						</Link>
					</connection>
					<!-- minCompare "newValue" output to minCompare "threshold" parameter -->
					<connection name="minResultToMinThreshold">
						<Link>
							<source ref="minCompare/outputs/newValue"/>
							<destination ref="minCompare/parameters/threshold"/>
						</Link>
					</connection>
					<!-- process "reset" parameter to maxCompare "reset" parameter -->
					<connection name="processResetToMaxReset">
						<Link>
							<source ref="this/parameters/reset"/>
							<destination ref="maxCompare/parameters/reset"/>
						</Link>
					</connection>
					<!-- process "reset" parameter to minCompare "reset" parameter -->
					<connection name="processResetToMinReset">
						<Link>
							<source ref="this/parameters/reset"/>
							<destination ref="minCompare/parameters/reset"/>
						</Link>
					</connection>
				</ConnectionList>
			</connections>
		</ProcessChain>
		<!-- ~~~~~~~~~ End of Process Chain ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
	</member>
</SensorML>
